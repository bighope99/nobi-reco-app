---
name: coderabbit-review-flow
description: CodeRabbitAIã®PRãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’å–å¾—ã—ã€æŒ‡æ‘˜äº‹é …ã‚’ä¿®æ­£ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒCodeRabbitã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä¿®æ­£ã—ã¦ã€ã¨è¨€ã£ãŸå ´åˆã«ã“ã®ã‚¹ã‚­ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã€‚
---

# CodeRabbit Review Flow Skill

CodeRabbitAIã®PRãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’å–å¾—ã—ã€æŒ‡æ‘˜äº‹é …ã‚’ä¿®æ­£ã™ã‚‹ãŸã‚ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚

## When to Use

- CodeRabbitã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ãŸã„å ´åˆ
- CodeRabbitã®æŒ‡æ‘˜äº‹é …ã‚’ä¿®æ­£ã—ãŸã„å ´åˆ
- PRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ãŸã„å ´åˆ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ŒCodeRabbitã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’ä¿®æ­£ã—ã¦ã€ã¨ä¾é ¼ã—ãŸå ´åˆ

## Workflow

### Step 1: PRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’å–å¾—

GitHub CLIã‚’ä½¿ç”¨ã—ã¦CodeRabbitã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹ã€‚

```bash
# ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆã‚³ãƒ¼ãƒ‰è¡Œã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆï¼‰ã‚’å–å¾—
gh api repos/{owner}/{repo}/pulls/{pr_number}/comments \
  --jq '[.[] | select(.user.login == "coderabbitai[bot]") | {id, path, line, created_at, body}]'

# PRã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå…¨ä½“ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆï¼‰ã‚’å–å¾—
gh pr view {pr_number} --comments --json comments \
  --jq '.comments[] | select(.author.login == "coderabbitai[bot]")'
```

**æ³¨æ„**: PRã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã¯åˆ¥ã®APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€‚

| ç¨®é¡ | èª¬æ˜ | API |
|------|------|-----|
| PRã‚³ãƒ¡ãƒ³ãƒˆ | PRå…¨ä½“ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆã‚µãƒãƒªãƒ¼ãªã©ï¼‰ | `gh pr view --comments` |
| ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ | ç‰¹å®šã®ã‚³ãƒ¼ãƒ‰è¡Œã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆ | `gh api .../pulls/.../comments` |

### Step 2: ã‚³ãƒ¡ãƒ³ãƒˆã®åˆ†é¡

CodeRabbitã®ã‚³ãƒ¡ãƒ³ãƒˆã¯ä»¥ä¸‹ã®é‡è¦åº¦ã§åˆ†é¡ã•ã‚Œã‚‹ï¼š

| ãƒãƒ¼ã‚¯ | é‡è¦åº¦ | å¯¾å¿œæ–¹é‡ |
|--------|--------|----------|
| Critical | å¿…ãšä¿®æ­£ | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒ‡ãƒ¼ã‚¿æå¤±ãƒªã‚¹ã‚¯ãªã© |
| Major | ä¿®æ­£æ¨å¥¨ | ãƒã‚°ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œãªã© |
| Minor | å¯èƒ½ãªã‚‰ä¿®æ­£ | ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ææ¡ˆãªã© |
| Addressed | æ—¢ã«å¯¾å¿œæ¸ˆã¿ | ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ |

### Step 3: å¯¾å¿œãŒå¿…è¦ãªã‚³ãƒ¡ãƒ³ãƒˆã®ç‰¹å®š

ä»¥ä¸‹ã®åŸºæº–ã§å¯¾å¿œãŒå¿…è¦ãªã‚³ãƒ¡ãƒ³ãƒˆã‚’æŠ½å‡ºï¼š

1. **ã€ŒAddressedã€ãƒãƒ¼ã‚¯ãŒãªã„ã‚³ãƒ¡ãƒ³ãƒˆ**ã‚’æŠ½å‡º
2. **é‡è¦åº¦é †ã«ã‚½ãƒ¼ãƒˆ**: Critical > Major > Minor
3. **åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–**ã—ã¦åŠ¹ç‡çš„ã«ä¿®æ­£

### Step 4: ä¿®æ­£ã®å®Ÿè£…

CodeRabbitã®ã‚³ãƒ¡ãƒ³ãƒˆã«ã¯é€šå¸¸ã€ä¿®æ­£ã®ãƒ’ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ï¼š

#### ã€ŒPrompt for AI Agentsã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³

CodeRabbitã¯å„ã‚³ãƒ¡ãƒ³ãƒˆã«ã€ŒPrompt for AI Agentsã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å«ã‚ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘ã®å…·ä½“çš„ãªä¿®æ­£æŒ‡ç¤ºãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚

```markdown
**ğŸ¤– Prompt for AI Agents**
In file `src/example.ts` at line 42, replace the synchronous call with...
```

#### ã€ŒSuggested fixã€ã¾ãŸã¯ã€ŒCommittable suggestionã€

å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¿®æ­£æ¡ˆãŒæç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ãã®ã¾ã¾é©ç”¨ã§ãã‚‹ã€‚

```diff
- const result = await fetchData();
+ const result = await fetchData().catch(handleError);
```

### Step 5: ã‚³ãƒŸãƒƒãƒˆã¨ãƒ—ãƒƒã‚·ãƒ¥

ä¿®æ­£ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨ã€CodeRabbitãŒè‡ªå‹•çš„ã«å†ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

```bash
git add .
git commit -m "fix: CodeRabbitãƒ¬ãƒ“ãƒ¥ãƒ¼æŒ‡æ‘˜äº‹é …ã®ä¿®æ­£"
git push
```

CodeRabbitã¯å¯¾å¿œã•ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã«ã€ŒAddressedã€ãƒãƒ¼ã‚¯ã‚’è‡ªå‹•çš„ã«ä»˜ä¸ã™ã‚‹ã€‚

## Example Commands

### ç¾åœ¨ã®PRã®CodeRabbitã‚³ãƒ¡ãƒ³ãƒˆã‚’ä¸€è¦§è¡¨ç¤º

```bash
# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã®PRç•ªå·ã‚’å–å¾—
PR_NUMBER=$(gh pr view --json number -q '.number')

# CodeRabbitã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’å–å¾—
gh api repos/:owner/:repo/pulls/$PR_NUMBER/comments \
  --jq '[.[] | select(.user.login == "coderabbitai[bot]") | {path, line, body}]'
```

### æœªå¯¾å¿œã®ã‚³ãƒ¡ãƒ³ãƒˆã®ã¿ã‚’æŠ½å‡º

```bash
# ã€ŒAddressedã€ã‚’å«ã¾ãªã„ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŠ½å‡º
gh api repos/:owner/:repo/pulls/$PR_NUMBER/comments \
  --jq '[.[] | select(.user.login == "coderabbitai[bot]") | select(.body | contains("âœ… Addressed") | not) | {path, line, body}]'
```

## Checklist

ä¿®æ­£ä½œæ¥­ã‚’è¡Œã†éš›ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼š

- [ ] PRã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¨ã¦å–å¾—ã—ãŸ
- [ ] CriticalãªæŒ‡æ‘˜äº‹é …ã‚’æœ€å„ªå…ˆã§ç¢ºèªã—ãŸ
- [ ] ã€ŒPrompt for AI Agentsã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æŒ‡ç¤ºã‚’ç¢ºèªã—ãŸ
- [ ] ä¿®æ­£å¾Œã€ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèªã—ãŸ
- [ ] ä¿®æ­£ã‚’ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã—ãŸ
- [ ] CodeRabbitãŒã€ŒAddressedã€ãƒãƒ¼ã‚¯ã‚’ä»˜ã‘ãŸã“ã¨ã‚’ç¢ºèªã—ãŸ

## Troubleshooting

### ã‚³ãƒ¡ãƒ³ãƒˆãŒå–å¾—ã§ããªã„å ´åˆ

```bash
# èªè¨¼çŠ¶æ…‹ã‚’ç¢ºèª
gh auth status

# ãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ç¢ºèª
gh repo view
```

### PRç•ªå·ãŒä¸æ˜ãªå ´åˆ

```bash
# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã«é–¢é€£ã™ã‚‹PRã‚’æ¤œç´¢
gh pr list --head $(git branch --show-current)

# ã¾ãŸã¯ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã®PRã‚’è¡¨ç¤º
gh pr view
```
