# 非機能要求レビュー(非機能要求グレード2018準拠)

## 📋 目次

1. [レビュー概要](#1-レビュー概要)
2. [セキュリティ性](#2-セキュリティ性)
3. [保守性・運用性](#3-保守性運用性)
4. [拡張性・性能](#4-拡張性性能)
5. [可用性](#5-可用性)
6. [対応推奨事項サマリ](#6-対応推奨事項サマリ)

---

## 1. レビュー概要

### 1.1 レビュー基準
- **基準**: 非機能要求グレード2018(IPA)
- **対象**: のびレコ要件定義書一式
- **実施日**: 2025年1月
- **重点項目**:
  - セキュリティ性
  - 保守性
  - 拡張性
  - DBテーブル設計
  - 性能・速度

### 1.2 総合評価

| 項目 | 評価 | 備考 |
|------|------|------|
| **セキュリティ性** | B | 基本方針は明確だが、具体的な実装ガイドラインが不足 |
| **保守性** | C | テスト戦略、CI/CD、監視体制の定義が不十分 |
| **拡張性** | B | 将来の拡張を見据えた設計だが、具体的な閾値が不明確 |
| **可用性** | B | 基本要件は定義済みだが、障害対応フローが不足 |
| **性能・速度** | B | 目標値は定義済みだが、詳細な測定方法が不足 |
| **データベース設計** | B+ | 概ね良好だが、一部のテーブルが不足 |

**評価基準**: A(優秀) / B(良好) / C(要改善) / D(不十分)

---

## 2. セキュリティ性

### 2.1 機密性(Confidentiality)

#### 🔴 重大な不足事項

1. **パスワードポリシーが未定義**
   - **問題**: パスワードの複雑性、有効期限、再利用制限が未定義
   - **推奨**:
     - 最小8文字以上、英数字+記号の組み合わせ必須
     - パスワード有効期限: 90日(または無期限でMFA必須)
     - 過去3世代のパスワード再利用禁止
     - ログイン試行回数: 5回まで、ロックアウト時間: 30分
   - **対応優先度**: 高

2. **個人情報の暗号化仕様が不明確**
   - **問題**: どのカラムをどの方式で暗号化するか未定義
   - **推奨**:
     ```sql
     -- 暗号化対象カラム
     m_children.allergies          -- AES-256-GCM
     m_children.health_notes       -- AES-256-GCM
     m_children.parent_phone       -- AES-256-GCM
     m_children.parent_email       -- AES-256-GCM
     m_guardians.phone             -- AES-256-GCM (Phase 2)
     m_guardians.email             -- AES-256-GCM (Phase 2)
     ```
   - **対応優先度**: 高

3. **AI APIへのデータ送信時のマスキングルールが未定義**
   - **問題**: 児童の氏名等がそのまま外部APIに送信される
   - **推奨**:
     - 氏名を仮名化(例: 「田中太郎」→「子ども1」)
     - 送信前にPII(個人識別情報)を自動検出・マスキング
     - AI処理ログは30日間保持後に自動削除(既に定義済み)
   - **対応優先度**: 高

#### ⚠️ 改善推奨事項

4. **APIレート制限の具体的な数値が不明確**
   - **問題**: 「429 Too Many Requests」の発生条件が不明
   - **推奨**:
     ```
     - AI解析API: 10回/分/ユーザー、100回/日/施設
     - 一般API: 100回/分/ユーザー、1000回/分/施設
     - 画像アップロード: 30回/時/ユーザー
     ```
   - **対応優先度**: 中

5. **セッション管理の詳細仕様が不足**
   - **問題**: リフレッシュトークン、同時ログインセッション数の管理が不明確
   - **推奨**:
     - セッション有効期限: 8時間(既定義)
     - リフレッシュトークン: 7日間有効
     - 同時ログイン: 最大3デバイスまで
     - 異なる施設からのログイン時は再認証必須
   - **対応優先度**: 中

6. **監査ログの保持期間が法的要件を満たすか不明**
   - **問題**: 1年間保持の根拠が不明
   - **推奨**:
     - 個人情報保護法: 原則3年間(法的義務)
     - 推奨保持期間: 最低3年、理想5年
     - ログのアーカイブ戦略(S3 Glacier等)を検討
   - **対応優先度**: 中

### 2.2 完全性(Integrity)

#### 🔴 重大な不足事項

7. **XSS、CSRF、SQLインジェクション対策の具体的なガイドラインが不足**
   - **問題**: 開発者向けのセキュアコーディングガイドが未整備
   - **推奨**:
     ```typescript
     // XSS対策
     - React標準のエスケープ機能を使用
     - dangerouslySetInnerHTMLは原則禁止
     - CSP(Content Security Policy)ヘッダーの設定

     // CSRF対策
     - Next.jsのCSRF保護ミドルウェアを使用
     - SameSite Cookieの設定

     // SQLインジェクション対策
     - Supabase JS Clientを使用(自動エスケープ)
     - 生SQLは原則禁止、パラメータ化クエリ必須
     ```
   - **対応優先度**: 高

8. **ファイルアップロードのマルウェアスキャン機能が未定義**
   - **問題**: 画像ファイルに偽装したマルウェアのリスク
   - **推奨**:
     - ClamAV等のウイルススキャンを導入
     - アップロード時にファイルタイプの厳密な検証
     - EXIF情報の自動削除(既に言及あり)
     - 画像の再エンコード(悪意あるコード除去)
   - **対応優先度**: 中

#### ⚠️ 改善推奨事項

9. **データ整合性チェックの自動化が未定義**
   - **推奨**:
     - 日次でデータ整合性チェックバッチを実行
     - 外部キー制約の整合性確認
     - 論理削除フラグと関連データの整合性確認
   - **対応優先度**: 低

### 2.3 可用性(Availability) - セキュリティ観点

#### ⚠️ 改善推奨事項

10. **DDoS攻撃対策が未定義**
    - **推奨**:
      - Cloudflare等のCDN/WAFを導入
      - APIレート制限(既に言及あり)
      - 異常トラフィック検知アラート
    - **対応優先度**: 中

### 2.4 RLS(Row Level Security)の具体的なポリシー定義

#### 🔴 重大な不足事項

11. **RLSポリシーの具体的な実装例が不足**
    - **問題**: 「RLSを使用する」とあるが、具体的なポリシーが不明
    - **推奨**: 以下の実装例を追加
    ```sql
    -- 例: 施設管理者は自施設のデータのみ閲覧可能
    CREATE POLICY facility_access ON r_activity
      FOR SELECT
      USING (
        facility_id IN (
          SELECT facility_id FROM _user_facility WHERE user_id = auth.uid()
        )
      );

    -- 例: 一般職員は担当クラスのデータのみ編集可能(Phase 2)
    CREATE POLICY staff_class_edit ON r_activity
      FOR UPDATE
      USING (
        class_id IN (
          SELECT class_id FROM _user_class WHERE user_id = auth.uid()
        )
      );

    -- 例: 個人情報は施設管理者以上のみ閲覧可能
    CREATE POLICY sensitive_data_access ON m_children
      FOR SELECT
      USING (
        EXISTS (
          SELECT 1 FROM m_users
          WHERE id = auth.uid()
            AND role IN ('site_admin', 'company_admin', 'facility_admin')
        )
      );
    ```
   - **対応優先度**: 高

---

## 3. 保守性・運用性

### 3.1 テスト戦略

#### 🔴 重大な不足事項

12. **テスト戦略全体が未定義**
    - **問題**: 単体テスト、統合テスト、E2Eテストの方針が不明
    - **推奨**:
      ```
      【テストピラミッド】
      - 単体テスト(Unit Test): 70%カバレッジ
        - ツール: Jest
        - 対象: ビジネスロジック、ユーティリティ関数

      - 統合テスト(Integration Test): 主要APIエンドポイント
        - ツール: Supertest
        - 対象: API Routes、データベース連携

      - E2Eテスト(End-to-End Test): クリティカルパス
        - ツール: Playwright
        - 対象: ログイン→記録入力→AI解析→確定の一連のフロー

      【テスト環境】
      - 開発環境: ローカルSupabase
      - ステージング環境: 本番環境と同一構成
      - 本番環境: テスト禁止

      【テストデータ管理】
      - Fixtureの自動生成スクリプトを用意
      - 個人情報は全てダミーデータ
      ```
    - **対応優先度**: 高

### 3.2 CI/CDパイプライン

#### 🔴 重大な不足事項

13. **CI/CDパイプラインの設計が未定義**
    - **推奨**:
      ```yaml
      # GitHub Actionsの例
      on: [push, pull_request]

      jobs:
        test:
          - Lint(ESLint, Prettier)
          - Type Check(TypeScript)
          - Unit Test(Jest)
          - Integration Test(Supertest)

        build:
          - Next.js Build
          - Docker Image Build

        deploy-staging:
          - Vercel(または類似サービス)へ自動デプロイ
          - E2E Test実行

        deploy-production:
          - 手動承認後にデプロイ
          - スモークテスト実行
      ```
    - **対応優先度**: 高

14. **デプロイメント戦略が未定義**
    - **推奨**:
      - フェーズ1-2(MVP〜拡張): ローリングデプロイ
      - フェーズ3(スケール展開): Blue-Greenデプロイ or カナリアリリース
      - データベーススキーマ変更: マイグレーションスクリプト必須
      - ロールバック手順書の整備
    - **対応優先度**: 中

### 3.3 監視・ロギング

#### 🔴 重大な不足事項

15. **アプリケーションモニタリング(APM)の導入が未検討**
    - **推奨ツール**:
      - Sentry: エラートラッキング
      - Datadog / New Relic: パフォーマンス監視
      - Supabase Analytics: データベースパフォーマンス
    - **監視項目**:
      - APIレスポンスタイム(95パーセンタイル < 2秒)
      - エラー率(< 0.1%)
      - AI API成功率(> 95%)
      - データベースクエリ時間(スロークエリ検知)
    - **対応優先度**: 高

16. **ログ収集・分析基盤が未定義**
    - **推奨**:
      ```
      【ログレベル】
      - ERROR: システムエラー、AIAPIエラー
      - WARN: レート制限、未帰所アラート
      - INFO: ログイン成功、記録作成、承認
      - DEBUG: 開発環境のみ

      【ログ出力先】
      - 開発環境: Console
      - 本番環境: Cloudwatch Logs / Datadog

      【ログフォーマット】
      JSON形式、構造化ログ
      {
        "timestamp": "2025-01-10T10:00:00Z",
        "level": "INFO",
        "user_id": "uuid",
        "facility_id": "uuid",
        "action": "ACTIVITY_CREATED",
        "metadata": {...}
      }
      ```
    - **対応優先度**: 高

### 3.4 障害対応

#### 🔴 重大な不足事項

17. **障害対応フロー(インシデント管理)が未定義**
    - **推奨**:
      ```
      【障害レベル定義】
      - P0(致命的): サービス停止、データ消失
        → 30分以内に対応開始
      - P1(重大): 主要機能停止、重大なセキュリティ問題
        → 2時間以内に対応開始
      - P2(中程度): 一部機能停止
        → 1営業日以内に対応開始
      - P3(軽微): 軽微なバグ
        → 次回リリースで対応

      【エスカレーションフロー】
      1. アラート検知(Sentry / Datadog)
      2. オンコールエンジニアに通知(PagerDuty等)
      3. 影響範囲の特定
      4. 緊急対応(ロールバック or ホットフィックス)
      5. 事後分析(ポストモーテム)
      ```
    - **対応優先度**: 高

### 3.5 ドキュメント管理

#### ⚠️ 改善推奨事項

18. **ドキュメント管理方針が不明確**
    - **推奨**:
      - 要件定義書: GitHub(Markdown)で管理(現状維持)
      - API仕様書: OpenAPI(Swagger)形式に移行
      - ER図: draw.io / Miroで管理、定期更新
      - 運用手順書: Notion / Confluenceで管理
      - 変更履歴: Git履歴 + CHANGELOGファイル
    - **対応優先度**: 中

### 3.6 技術的負債管理

#### ⚠️ 改善推奨事項

19. **技術的負債の管理方針が未定義**
    - **推奨**:
      - 四半期ごとに技術的負債の棚卸し
      - スプリントの20%を技術的負債解消に充てる
      - SonarQube等で自動検知
    - **対応優先度**: 低

---

## 4. 拡張性・性能

### 4.1 拡張性(Scalability)

#### ⚠️ 改善推奨事項

20. **マイクロサービス化の判断基準が不明確**
    - **問題**: 「規模拡大時にマイクロサービス化」とあるが、閾値が不明
    - **推奨**:
      ```
      【モノリス継続の条件】
      - 施設数 < 50
      - DAU < 500
      - データベースサイズ < 100GB

      【マイクロサービス化の検討開始条件】
      - 施設数 >= 50
      - DAU >= 500
      - 特定機能(AI解析等)のボトルネック化

      【分割候補サービス】
      1. 認証サービス
      2. 記録管理サービス
      3. AI解析サービス
      4. レポート生成サービス
      ```
    - **対応優先度**: 低

21. **APIバージョニング戦略が未定義**
    - **推奨**:
      ```
      - URLベースのバージョニング: /api/v1, /api/v2
      - 旧バージョンのサポート期間: 6ヶ月
      - 破壊的変更は必ず新バージョンでリリース
      - ヘッダーベースのバージョニングは採用しない(複雑化を避ける)
      ```
    - **対応優先度**: 中

22. **キャッシュ戦略の具体的な実装が未定義**
    - **問題**: Redisの導入を検討するとあるが、具体的なキャッシュキーが不明
    - **推奨**:
      ```
      【Redis導入タイミング】
      - 施設数 >= 20
      - DAU >= 200

      【キャッシュ対象】
      - メンション候補: Key=facility:{id}:children, TTL=5分
      - タグマスタ: Key=tags:all, TTL=1時間
      - ダッシュボードサマリ: Key=dashboard:{facility_id}:{date}, TTL=1分
      - セッション情報: Key=session:{user_id}, TTL=8時間

      【キャッシュ無効化】
      - 記録作成/更新時: ダッシュボードキャッシュをクリア
      - タグマスタ更新時: タグキャッシュをクリア
      ```
    - **対応優先度**: 中

23. **多言語対応の設計指針が不足**
    - **問題**: Phase 3で多言語対応とあるが、設計方針が不明
    - **推奨**:
      ```typescript
      // i18nライブラリ: next-intl or react-i18next

      // データベース設計
      CREATE TABLE m_observation_tags_i18n (
        tag_id UUID REFERENCES m_observation_tags(id),
        locale VARCHAR(5) NOT NULL,  -- ja, en, zh, ko
        name VARCHAR(50) NOT NULL,
        description TEXT,
        PRIMARY KEY (tag_id, locale)
      );

      // デフォルト言語: 日本語(ja)
      // 対応言語: 英語(en)、中国語(zh)、韓国語(ko)
      ```
    - **対応優先度**: 低

24. **タイムゾーン対応の設計指針が不足**
    - **推奨**:
      ```
      - データベース: 全てUTC(TIMESTAMP WITH TIME ZONE)で保存
      - API: ISO 8601形式で返却(例: 2025-01-10T10:00:00+09:00)
      - フロントエンド: ブラウザのタイムゾーンで表示
      - 施設ごとのタイムゾーン設定(将来的にグローバル展開時)
      ```
    - **対応優先度**: 中

### 4.2 性能(Performance)

#### 🔴 重大な不足事項

25. **性能目標の測定方法が未定義**
    - **問題**: 「2秒以内」とあるが、測定条件が不明
    - **推奨**:
      ```
      【測定条件】
      - 測定ツール: Lighthouse, WebPageTest
      - ネットワーク: 4G相当(1.6Mbps)
      - デバイス: iPad(Retina), Android Tablet
      - 測定箇所: 95パーセンタイル値

      【性能目標】
      - ダッシュボード読み込み: < 2秒
      - 活動記録保存: < 1秒
      - AI解析処理: < 10秒(目安表示あり)
      - 画像アップロード: 1MB/秒以上

      【Core Web Vitals目標】
      - LCP(Largest Contentful Paint): < 2.5秒
      - FID(First Input Delay): < 100ms
      - CLS(Cumulative Layout Shift): < 0.1
      ```
    - **対応優先度**: 高

26. **全文検索の実装方法が未確定**
    - **問題**: PostgreSQL FTS vs Elasticsearchの選定基準が不明
    - **推奨**:
      ```
      【Phase 1-2】
      - PostgreSQL全文検索(pg_trgm)を使用
      - 日本語対応: 既に定義済み(to_tsvector('japanese', ...))

      【Phase 3以降(データ量増加時)】
      - Elasticsearch導入の検討開始条件:
        - 児童数 >= 5,000
        - 検索クエリのレスポンスタイム >= 1秒
      ```
    - **対応優先度**: 低

27. **大量データ処理(CSV一括登録等)のバッチ処理設計が不足**
    - **推奨**:
      ```
      【CSV一括登録の設計】
      - 同期処理の上限: 100件まで
      - 非同期処理: 100件超の場合
      - ジョブキュー: BullMQ + Redis
      - 進捗状況の通知: WebSocket経由
      - エラーハンドリング: 部分成功を許容、エラーログをCSVで返却

      【処理性能目標】
      - 100件: 10秒以内(同期)
      - 1,000件: 2分以内(非同期)
      - 10,000件: 20分以内(非同期)
      ```
    - **対応優先度**: 中

#### ⚠️ 改善推奨事項

28. **N+1クエリ対策のガイドラインが不足**
    - **推奨**:
      ```typescript
      // 悪い例
      const children = await supabase.from('m_children').select('*');
      for (const child of children) {
        const observations = await supabase
          .from('r_observation')
          .select('*')
          .eq('child_id', child.id);
      }

      // 良い例
      const result = await supabase
        .from('m_children')
        .select(`
          *,
          observations:r_observation(*)
        `);

      // コードレビュー時にN+1クエリを検出
      ```
    - **対応優先度**: 中

29. **画像配信の最適化が不明確**
    - **推奨**:
      ```
      【画像最適化】
      - アップロード時: 自動リサイズ(最大1920x1080)
      - サムネイル生成: 200x200, 400x400
      - フォーマット: WebP変換(フォールバック: JPEG)
      - 遅延読み込み: next/imageのlazy loading
      - CDN: Cloudflare or CloudFront
      - キャッシュ: 1ヶ月
      ```
    - **対応優先度**: 中

30. **APIレスポンスの圧縮が未定義**
    - **推奨**:
      ```
      - gzip圧縮を有効化(Next.js標準設定)
      - 圧縮対象: JSON(5KB以上)
      - 圧縮率: 平均70%削減を目標
      ```
    - **対応優先度**: 低

### 4.3 データベースパーティショニング

#### ⚠️ 改善推奨事項

31. **パーティショニングの閾値が不明確**
    - **問題**: 「5年後以降」とあるが、データ量の閾値が不明
    - **推奨**:
      ```
      【パーティショニング開始条件】
      - テーブルサイズ >= 100GB
      - クエリレスポンスタイム >= 3秒

      【パーティショニング対象】
      - r_activity: 月単位パーティション(activity_date)
      - r_observation: 月単位パーティション(observation_date)
      - h_attendance: 月単位パーティション(checked_in_at)

      【古いデータのアーカイブ】
      - 3年以上前のデータ: S3へアーカイブ
      - 5年以上前のデータ: 匿名化して統計データのみ保持
      ```
    - **対応優先度**: 低

---

## 5. 可用性

### 5.1 稼働時間目標

#### ✅ 適切に定義済み

- **稼働時間**: 24時間365日(メンテナンス時を除く)
- **重視時間帯**: 平日7:00-19:00

#### ⚠️ 改善推奨事項

32. **SLA(Service Level Agreement)の具体的な数値が未定義**
    - **推奨**:
      ```
      【稼働率目標】
      - Phase 1-2(MVP〜拡張): 99.0%(月間ダウンタイム7.2時間)
      - Phase 3(スケール展開): 99.9%(月間ダウンタイム43分)

      【計画メンテナンス】
      - 頻度: 月1回
      - 時間帯: 深夜2:00-4:00(利用者の少ない時間帯)
      - 事前通知: 1週間前

      【障害復旧目標】
      - RTO(Recovery Time Objective): 4時間
      - RPO(Recovery Point Objective): 1時間(最大データ損失許容時間)
      ```
    - **対応優先度**: 中

### 5.2 バックアップ

#### ✅ 適切に定義済み

- **日次自動バックアップ**: Supabase標準機能を使用
- **復旧テストの定期実施**: 言及あり

#### ⚠️ 改善推奨事項

33. **バックアップ戦略の詳細が不足**
    - **推奨**:
      ```
      【バックアップ種類】
      - フルバックアップ: 日次(深夜3:00実行)
      - 増分バックアップ: 6時間ごと(Phase 3以降)
      - WALアーカイブ: Point-in-Time Recovery対応

      【保持期間】
      - 日次バックアップ: 30日間
      - 月次バックアップ: 1年間
      - 年次バックアップ: 5年間

      【復旧テスト】
      - 頻度: 四半期ごと
      - 内容: フルリストア→動作確認
      - 目標復旧時間: 4時間以内
      ```
    - **対応優先度**: 中

---

## 6. 対応推奨事項サマリ

### 6.1 優先度別の対応推奨事項

#### 🔴 優先度: 高(Phase 1で対応必須)

| No | 項目 | 対応内容 | 工数見積 |
|----|------|----------|---------|
| 1 | パスワードポリシー定義 | 複雑性、有効期限、ログイン試行回数制限 | 1日 |
| 2 | 個人情報暗号化仕様 | AES-256-GCM暗号化の実装 | 3日 |
| 3 | AIデータマスキング | 氏名の仮名化処理 | 2日 |
| 7 | セキュアコーディングガイド | XSS/CSRF/SQLi対策ガイド作成 | 2日 |
| 11 | RLSポリシー実装 | 全テーブルのRLSポリシー定義 | 5日 |
| 12 | テスト戦略策定 | Jest/Supertest/Playwright導入 | 5日 |
| 13 | CI/CDパイプライン構築 | GitHub Actions設定 | 3日 |
| 15 | APM導入 | Sentry/Datadog導入 | 2日 |
| 16 | ログ基盤構築 | 構造化ログ、Cloudwatch連携 | 3日 |
| 17 | 障害対応フロー策定 | インシデント管理プロセス定義 | 2日 |
| 25 | 性能測定方法定義 | Lighthouse/WebPageTest導入 | 1日 |

**合計工数見積**: 約29日(約6週間)

#### ⚠️ 優先度: 中(Phase 2で対応推奨)

| No | 項目 | 対応内容 | 備考 |
|----|------|----------|------|
| 4 | APIレート制限 | 具体的な数値設定 | DDoS対策 |
| 5 | セッション管理詳細化 | リフレッシュトークン実装 | UX向上 |
| 6 | 監査ログ保持期間見直し | 3年→5年に延長 | 法的要件 |
| 8 | マルウェアスキャン | ClamAV導入 | セキュリティ強化 |
| 14 | デプロイメント戦略 | Blue-Greenデプロイ検討 | ダウンタイム削減 |
| 18 | ドキュメント管理 | OpenAPI/Swagger導入 | 保守性向上 |
| 21 | APIバージョニング | /api/v1, /api/v2 | 後方互換性 |
| 22 | Redis導入 | キャッシュ戦略実装 | 性能向上 |
| 24 | タイムゾーン対応 | UTC保存、表示時変換 | グローバル展開準備 |
| 27 | バッチ処理設計 | BullMQ+Redis導入 | CSV一括登録対応 |
| 28 | N+1クエリ対策 | コードレビューガイド整備 | 性能向上 |
| 29 | 画像配信最適化 | WebP変換、CDN導入 | UX向上 |
| 32 | SLA定義 | 99.0%→99.9%へ | 信頼性向上 |
| 33 | バックアップ戦略詳細化 | Point-in-Time Recovery | データ保護強化 |

#### 📘 優先度: 低(Phase 3以降で検討)

| No | 項目 | 対応内容 |
|----|------|----------|
| 9 | データ整合性チェック自動化 | 日次バッチ |
| 10 | DDoS攻撃対策 | Cloudflare導入 |
| 19 | 技術的負債管理 | SonarQube導入 |
| 20 | マイクロサービス化検討 | 施設数50以上で検討開始 |
| 23 | 多言語対応 | i18nライブラリ導入 |
| 26 | Elasticsearch導入 | 児童数5,000以上で検討 |
| 30 | APIレスポンス圧縮 | gzip有効化 |
| 31 | パーティショニング | テーブルサイズ100GB以上で実施 |

### 6.2 対応スケジュール案

```
Phase 1 (MVP - 3ヶ月)
├─ Week 1-2: セキュリティ基盤整備(No.1, 2, 3, 7, 11)
├─ Week 3-4: テスト・CI/CD構築(No.12, 13)
├─ Week 5-6: 監視・ログ基盤(No.15, 16, 17)
└─ Week 7-8: 性能測定・最適化(No.25)

Phase 2 (拡張機能 - 6ヶ月)
├─ Month 1-2: セキュリティ強化(No.4, 5, 6, 8)
├─ Month 3-4: 性能・拡張性向上(No.22, 27, 28, 29)
└─ Month 5-6: 運用改善(No.14, 18, 21, 32, 33)

Phase 3 (スケール展開 - 1年〜)
└─ 優先度:低の項目を順次対応
```

---

## 7. 追加検討が必要な項目

### 7.1 法的・コンプライアンス要件

1. **個人情報保護法対応**
   - 利用目的の明示
   - 第三者提供の同意取得(AI APIへのデータ送信)
   - 開示請求への対応フロー

2. **子どもの権利条約対応**
   - 写真・映像の利用同意
   - 保護者への情報開示

3. **障害者差別解消法対応**
   - アクセシビリティ(WCAG 2.1 AA準拠)
   - スクリーンリーダー対応

### 7.2 災害対策(BCP: Business Continuity Plan)

1. **災害時の対応**
   - データセンター障害時の切り替え(マルチリージョン対応)
   - 紙の代替運用マニュアル

2. **感染症対策**
   - リモート勤務時のアクセス制御
   - VPN不要なゼロトラストアーキテクチャ

---

**作成日**: 2025年1月10日
**レビュー実施者**: Claude AI
**次回レビュー予定**: Phase 1完了時(3ヶ月後)
